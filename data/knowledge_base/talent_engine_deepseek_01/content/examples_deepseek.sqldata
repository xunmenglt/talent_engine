{"schamea": "CREATE TABLE `T_HX_EMP_KPI` (\n  `ID` bigint NOT NULL AUTO_INCREMENT COMMENT '自增主键ID',\n  `KPI_YEAR` int DEFAULT NULL COMMENT '考核年度(建议改为INT4足够)',\n  `EMP_NO` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '员工档案号',\n  `EMP_NAME` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '员工姓名',\n  `INSTITUTION_NO` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '机构编号',\n  `INSTITUTION_NAME` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '机构名称',\n  `JOB_NO` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '岗位编号',\n  `JOB_NAME` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '岗位名称',\n  `SCORE` decimal(6,2) DEFAULT NULL COMMENT 'KPI得分(保留2位小数)',\n  `JOB_RANK` int DEFAULT NULL COMMENT '岗位排名',\n  `JOB_TOTAL` int DEFAULT NULL COMMENT '岗位总人数',\n  `REGION_RANK` int DEFAULT NULL COMMENT '区域排名',\n  `REGION_TOTAL` int DEFAULT NULL COMMENT '区域总人数',\n  `REMARK` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '备注信息',\n  `CREATE_USER` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '记录创建人',\n  `UPDATE_USER` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '记录修改人(与CREATE_USER长度一致)',\n  `KPI_GRADE` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '绩效考核等级(A/B/C等)',\n  `CREATE_TIME` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '记录创建时间',\n  `UPDATE_TIME` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录更新时间',\n  PRIMARY KEY (`ID`),\n  KEY `idx_kpi_year_emp` (`KPI_YEAR`,`EMP_NO`),\n  KEY `idx_institution_year` (`INSTITUTION_NO`,`KPI_YEAR`),\n  KEY `idx_kpi_grade` (`KPI_GRADE`),\n  KEY `idx_score` (`SCORE`),\n  KEY `idx_job_rank` (`JOB_RANK`),\n  KEY `idx_region_rank` (`REGION_RANK`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='员工绩效考核表'\n\nCREATE TABLE `T_HX_EMP_SPECIAL_SKILL` (\n  `ID` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',\n  `EMP_NO` varchar(20) NOT NULL COMMENT '员工档案号',\n  `EMP_NAME` varchar(50) NOT NULL COMMENT '员工姓名',\n  `SKILL_TYPE` varchar(2) NOT NULL COMMENT '特长类别',\n  `SKILL_NAME` varchar(100) NOT NULL COMMENT '特长项目',\n  `SKILL_LEVEL` varchar(30) DEFAULT NULL COMMENT '特长级别/水平',\n  `PERFORM_ORG` varchar(100) DEFAULT NULL COMMENT '认定单位',\n  `BZ` varchar(30) DEFAULT NULL COMMENT '备注',\n  `CREATE_TIME` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `CREATE_USER` varchar(20) NOT NULL COMMENT '创建人',\n  `UPDATE_TIME` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',\n  `UPDATE_USER` varchar(20) NOT NULL COMMENT '修改人',\n  PRIMARY KEY (`ID`),\n  KEY `idx_emp_no` (`EMP_NO`),\n  KEY `idx_skill_type` (`SKILL_TYPE`),\n  KEY `idx_skill_name` (`SKILL_NAME`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='员工个人特长表'\n\nCREATE TABLE `t_hx_join_activity` (\n  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',\n  `emp_no` varchar(20) NOT NULL COMMENT '员工档案号',\n  `emp_name` varchar(50) NOT NULL COMMENT '员工姓名',\n  `activity_type` varchar(3) DEFAULT NULL COMMENT '活动类型',\n  `activity_name` varchar(100) DEFAULT NULL COMMENT '活动/项目/特长名称',\n  `activity_group` varchar(3) DEFAULT NULL COMMENT '活动分类',\n  `activity_level` varchar(3) DEFAULT NULL COMMENT '活动星级',\n  `sponsor` varchar(100) DEFAULT NULL COMMENT '主办单位名称',\n  `sponsor_level` varchar(30) NOT NULL COMMENT '主办单位级别',\n  `activity_start_time` datetime NOT NULL COMMENT '举办时间起',\n  `activity_end_time` datetime NOT NULL COMMENT '举办时间止',\n  `is_reword` varchar(3) NOT NULL COMMENT '是否获奖(1是/0否)',\n  `reword_level` varchar(30) NOT NULL COMMENT '表彰奖励类别',\n  `reword_desc` varchar(300) NOT NULL COMMENT '获奖情况',\n  `perform_desc` varchar(300) DEFAULT NULL COMMENT '表现评价',\n  `perform_org` varchar(100) NOT NULL COMMENT '评价单位',\n  `bz` varchar(300) DEFAULT NULL COMMENT '备注',\n  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `create_user` varchar(20) NOT NULL COMMENT '创建人',\n  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',\n  `update_user` varchar(20) NOT NULL COMMENT '更新人',\n  PRIMARY KEY (`id`),\n  KEY `idx_emp_no` (`emp_no`),\n  KEY `idx_activity_type` (`activity_type`),\n  KEY `idx_activity_name` (`activity_name`),\n  KEY `idx_activity_time` (`activity_start_time`,`activity_end_time`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='员工参与活动记录表'\n\nCREATE TABLE `t_hx_parttime_job` (\n  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '自增主键',\n  `emp_no` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '员工档案号',\n  `emp_name` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '员工姓名',\n  `parttime_job` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '兼职岗位',\n  `parttime_address` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '兼职单位',\n  `parttime_time` datetime DEFAULT NULL COMMENT '兼职时间',\n  `bz` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '备注',\n  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `create_user` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '创建人',\n  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',\n  `update_user` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '更新人',\n  PRIMARY KEY (`id`),\n  KEY `idx_emp_no` (`emp_no`),\n  KEY `idx_parttime_job` (`parttime_job`),\n  KEY `idx_parttime_address` (`parttime_address`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='员工岗位兼职记录表'\n\nCREATE TABLE `t_hx_test_evaluate` (\n  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '自增主键',\n  `evaluate_type` varchar(5) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考察类型',\n  `emp_no` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '被考察人档案号',\n  `emp_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '被考察人姓名',\n  `evaluate_time` datetime DEFAULT NULL COMMENT '考察时间',\n  `evaluate_suggest` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考评建议',\n  `evaluate_result` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考评结果',\n  `super_evaluate` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '上级评价',\n  `lever_evaluate` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '平级评价',\n  `emp_evaluate` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '员工评价',\n  `evaluate_emp_no` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考察人员档案号',\n  `evaluate_emp_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考察人员姓名',\n  `other_msg` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '其他信息',\n  `remark` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '备注',\n  `create_user` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '创建人',\n  `update_user` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '更新人',\n  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',\n  PRIMARY KEY (`id`),\n  KEY `idx_emp_no` (`emp_no`),\n  KEY `idx_evaluate_time` (`evaluate_time`),\n  KEY `idx_evaluate_emp` (`evaluate_emp_no`),\n  KEY `idx_evaluate_type` (`evaluate_type`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='员工考察考评表'", "question": "查询2023年参加过国家级活动并获得奖项的员工名单及其所在机构", "query": "SELECT DISTINCT k.EMP_NO, k.EMP_NAME, k.INSTITUTION_NAME FROM `T_HX_EMP_KPI` k JOIN `t_hx_join_activity` a ON k.EMP_NO COLLATE utf8mb4_unicode_ci = a.emp_no COLLATE utf8mb4_unicode_ci WHERE k.KPI_YEAR = 2023 AND a.sponsor_level LIKE '%国家级%' AND a.is_reword = '1' ORDER BY k.INSTITUTION_NAME;", "tables": ["T_HX_EMP_KPI", "t_hx_join_activity"], "reference_question": "请列出2023年区域排名前10的高级工程师", "answer": null, "sql_exec_res": [{"EMP_NO": "EMP001", "EMP_NAME": "张伟", "INSTITUTION_NAME": "北京总部"}, {"EMP_NO": "EMP010", "EMP_NAME": "郑浩", "INSTITUTION_NAME": "北京总部"}, {"EMP_NO": "EMP004", "EMP_NAME": "刘强", "INSTITUTION_NAME": "广州分公司"}, {"EMP_NO": "EMP009", "EMP_NAME": "吴婷", "INSTITUTION_NAME": "杭州分公司"}, {"EMP_NO": "EMP005", "EMP_NAME": "陈静", "INSTITUTION_NAME": "深圳分公司"}], "query_skeleton": null, "answer_skeleton": null, "row_id": 558}
{"schamea": "CREATE TABLE `T_HX_EMP_KPI` (\n  `ID` bigint NOT NULL AUTO_INCREMENT COMMENT '自增主键ID',\n  `KPI_YEAR` int DEFAULT NULL COMMENT '考核年度(建议改为INT4足够)',\n  `EMP_NO` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '员工档案号',\n  `EMP_NAME` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '员工姓名',\n  `INSTITUTION_NO` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '机构编号',\n  `INSTITUTION_NAME` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '机构名称',\n  `JOB_NO` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '岗位编号',\n  `JOB_NAME` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '岗位名称',\n  `SCORE` decimal(6,2) DEFAULT NULL COMMENT 'KPI得分(保留2位小数)',\n  `JOB_RANK` int DEFAULT NULL COMMENT '岗位排名',\n  `JOB_TOTAL` int DEFAULT NULL COMMENT '岗位总人数',\n  `REGION_RANK` int DEFAULT NULL COMMENT '区域排名',\n  `REGION_TOTAL` int DEFAULT NULL COMMENT '区域总人数',\n  `REMARK` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '备注信息',\n  `CREATE_USER` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '记录创建人',\n  `UPDATE_USER` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '记录修改人(与CREATE_USER长度一致)',\n  `KPI_GRADE` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '绩效考核等级(A/B/C等)',\n  `CREATE_TIME` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '记录创建时间',\n  `UPDATE_TIME` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录更新时间',\n  PRIMARY KEY (`ID`),\n  KEY `idx_kpi_year_emp` (`KPI_YEAR`,`EMP_NO`),\n  KEY `idx_institution_year` (`INSTITUTION_NO`,`KPI_YEAR`),\n  KEY `idx_kpi_grade` (`KPI_GRADE`),\n  KEY `idx_score` (`SCORE`),\n  KEY `idx_job_rank` (`JOB_RANK`),\n  KEY `idx_region_rank` (`REGION_RANK`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='员工绩效考核表'\n\nCREATE TABLE `T_HX_EMP_SPECIAL_SKILL` (\n  `ID` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',\n  `EMP_NO` varchar(20) NOT NULL COMMENT '员工档案号',\n  `EMP_NAME` varchar(50) NOT NULL COMMENT '员工姓名',\n  `SKILL_TYPE` varchar(2) NOT NULL COMMENT '特长类别',\n  `SKILL_NAME` varchar(100) NOT NULL COMMENT '特长项目',\n  `SKILL_LEVEL` varchar(30) DEFAULT NULL COMMENT '特长级别/水平',\n  `PERFORM_ORG` varchar(100) DEFAULT NULL COMMENT '认定单位',\n  `BZ` varchar(30) DEFAULT NULL COMMENT '备注',\n  `CREATE_TIME` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `CREATE_USER` varchar(20) NOT NULL COMMENT '创建人',\n  `UPDATE_TIME` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',\n  `UPDATE_USER` varchar(20) NOT NULL COMMENT '修改人',\n  PRIMARY KEY (`ID`),\n  KEY `idx_emp_no` (`EMP_NO`),\n  KEY `idx_skill_type` (`SKILL_TYPE`),\n  KEY `idx_skill_name` (`SKILL_NAME`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='员工个人特长表'\n\nCREATE TABLE `t_hx_join_activity` (\n  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',\n  `emp_no` varchar(20) NOT NULL COMMENT '员工档案号',\n  `emp_name` varchar(50) NOT NULL COMMENT '员工姓名',\n  `activity_type` varchar(3) DEFAULT NULL COMMENT '活动类型',\n  `activity_name` varchar(100) DEFAULT NULL COMMENT '活动/项目/特长名称',\n  `activity_group` varchar(3) DEFAULT NULL COMMENT '活动分类',\n  `activity_level` varchar(3) DEFAULT NULL COMMENT '活动星级',\n  `sponsor` varchar(100) DEFAULT NULL COMMENT '主办单位名称',\n  `sponsor_level` varchar(30) NOT NULL COMMENT '主办单位级别',\n  `activity_start_time` datetime NOT NULL COMMENT '举办时间起',\n  `activity_end_time` datetime NOT NULL COMMENT '举办时间止',\n  `is_reword` varchar(3) NOT NULL COMMENT '是否获奖(1是/0否)',\n  `reword_level` varchar(30) NOT NULL COMMENT '表彰奖励类别',\n  `reword_desc` varchar(300) NOT NULL COMMENT '获奖情况',\n  `perform_desc` varchar(300) DEFAULT NULL COMMENT '表现评价',\n  `perform_org` varchar(100) NOT NULL COMMENT '评价单位',\n  `bz` varchar(300) DEFAULT NULL COMMENT '备注',\n  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `create_user` varchar(20) NOT NULL COMMENT '创建人',\n  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',\n  `update_user` varchar(20) NOT NULL COMMENT '更新人',\n  PRIMARY KEY (`id`),\n  KEY `idx_emp_no` (`emp_no`),\n  KEY `idx_activity_type` (`activity_type`),\n  KEY `idx_activity_name` (`activity_name`),\n  KEY `idx_activity_time` (`activity_start_time`,`activity_end_time`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='员工参与活动记录表'\n\nCREATE TABLE `t_hx_parttime_job` (\n  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '自增主键',\n  `emp_no` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '员工档案号',\n  `emp_name` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '员工姓名',\n  `parttime_job` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '兼职岗位',\n  `parttime_address` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '兼职单位',\n  `parttime_time` datetime DEFAULT NULL COMMENT '兼职时间',\n  `bz` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '备注',\n  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `create_user` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '创建人',\n  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',\n  `update_user` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '更新人',\n  PRIMARY KEY (`id`),\n  KEY `idx_emp_no` (`emp_no`),\n  KEY `idx_parttime_job` (`parttime_job`),\n  KEY `idx_parttime_address` (`parttime_address`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='员工岗位兼职记录表'\n\nCREATE TABLE `t_hx_test_evaluate` (\n  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '自增主键',\n  `evaluate_type` varchar(5) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考察类型',\n  `emp_no` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '被考察人档案号',\n  `emp_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '被考察人姓名',\n  `evaluate_time` datetime DEFAULT NULL COMMENT '考察时间',\n  `evaluate_suggest` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考评建议',\n  `evaluate_result` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考评结果',\n  `super_evaluate` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '上级评价',\n  `lever_evaluate` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '平级评价',\n  `emp_evaluate` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '员工评价',\n  `evaluate_emp_no` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考察人员档案号',\n  `evaluate_emp_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考察人员姓名',\n  `other_msg` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '其他信息',\n  `remark` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '备注',\n  `create_user` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '创建人',\n  `update_user` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '更新人',\n  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',\n  PRIMARY KEY (`id`),\n  KEY `idx_emp_no` (`emp_no`),\n  KEY `idx_evaluate_time` (`evaluate_time`),\n  KEY `idx_evaluate_emp` (`evaluate_emp_no`),\n  KEY `idx_evaluate_type` (`evaluate_type`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='员工考察考评表'", "question": "查询2023年参加过国家级活动并获得奖项的员工姓名及其所在机构", "query": "SELECT DISTINCT k.EMP_NAME, k.INSTITUTION_NAME FROM `T_HX_EMP_KPI` k JOIN `t_hx_join_activity` a ON k.EMP_NO = a.emp_no COLLATE utf8mb4_unicode_ci WHERE k.KPI_YEAR = 2023 AND a.sponsor_level LIKE '%国家级%' AND a.is_reword = '1' ORDER BY k.INSTITUTION_NAME;", "tables": ["T_HX_EMP_KPI", "t_hx_join_activity"], "reference_question": "请列出2023年区域排名前10的高级工程师", "answer": null, "sql_exec_res": [{"EMP_NAME": "张伟", "INSTITUTION_NAME": "北京总部"}, {"EMP_NAME": "郑浩", "INSTITUTION_NAME": "北京总部"}, {"EMP_NAME": "刘强", "INSTITUTION_NAME": "广州分公司"}, {"EMP_NAME": "吴婷", "INSTITUTION_NAME": "杭州分公司"}, {"EMP_NAME": "陈静", "INSTITUTION_NAME": "深圳分公司"}], "query_skeleton": null, "answer_skeleton": null, "row_id": 552}
{"schamea": "CREATE TABLE `T_HX_EMP_KPI` (\n  `ID` bigint NOT NULL AUTO_INCREMENT COMMENT '自增主键ID',\n  `KPI_YEAR` int DEFAULT NULL COMMENT '考核年度(建议改为INT4足够)',\n  `EMP_NO` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '员工档案号',\n  `EMP_NAME` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '员工姓名',\n  `INSTITUTION_NO` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '机构编号',\n  `INSTITUTION_NAME` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '机构名称',\n  `JOB_NO` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '岗位编号',\n  `JOB_NAME` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '岗位名称',\n  `SCORE` decimal(6,2) DEFAULT NULL COMMENT 'KPI得分(保留2位小数)',\n  `JOB_RANK` int DEFAULT NULL COMMENT '岗位排名',\n  `JOB_TOTAL` int DEFAULT NULL COMMENT '岗位总人数',\n  `REGION_RANK` int DEFAULT NULL COMMENT '区域排名',\n  `REGION_TOTAL` int DEFAULT NULL COMMENT '区域总人数',\n  `REMARK` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '备注信息',\n  `CREATE_USER` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '记录创建人',\n  `UPDATE_USER` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '记录修改人(与CREATE_USER长度一致)',\n  `KPI_GRADE` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '绩效考核等级(A/B/C等)',\n  `CREATE_TIME` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '记录创建时间',\n  `UPDATE_TIME` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录更新时间',\n  PRIMARY KEY (`ID`),\n  KEY `idx_kpi_year_emp` (`KPI_YEAR`,`EMP_NO`),\n  KEY `idx_institution_year` (`INSTITUTION_NO`,`KPI_YEAR`),\n  KEY `idx_kpi_grade` (`KPI_GRADE`),\n  KEY `idx_score` (`SCORE`),\n  KEY `idx_job_rank` (`JOB_RANK`),\n  KEY `idx_region_rank` (`REGION_RANK`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='员工绩效考核表'\n\nCREATE TABLE `T_HX_EMP_SPECIAL_SKILL` (\n  `ID` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',\n  `EMP_NO` varchar(20) NOT NULL COMMENT '员工档案号',\n  `EMP_NAME` varchar(50) NOT NULL COMMENT '员工姓名',\n  `SKILL_TYPE` varchar(2) NOT NULL COMMENT '特长类别',\n  `SKILL_NAME` varchar(100) NOT NULL COMMENT '特长项目',\n  `SKILL_LEVEL` varchar(30) DEFAULT NULL COMMENT '特长级别/水平',\n  `PERFORM_ORG` varchar(100) DEFAULT NULL COMMENT '认定单位',\n  `BZ` varchar(30) DEFAULT NULL COMMENT '备注',\n  `CREATE_TIME` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `CREATE_USER` varchar(20) NOT NULL COMMENT '创建人',\n  `UPDATE_TIME` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',\n  `UPDATE_USER` varchar(20) NOT NULL COMMENT '修改人',\n  PRIMARY KEY (`ID`),\n  KEY `idx_emp_no` (`EMP_NO`),\n  KEY `idx_skill_type` (`SKILL_TYPE`),\n  KEY `idx_skill_name` (`SKILL_NAME`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='员工个人特长表'\n\nCREATE TABLE `t_hx_join_activity` (\n  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '主键ID',\n  `emp_no` varchar(20) NOT NULL COMMENT '员工档案号',\n  `emp_name` varchar(50) NOT NULL COMMENT '员工姓名',\n  `activity_type` varchar(3) DEFAULT NULL COMMENT '活动类型',\n  `activity_name` varchar(100) DEFAULT NULL COMMENT '活动/项目/特长名称',\n  `activity_group` varchar(3) DEFAULT NULL COMMENT '活动分类',\n  `activity_level` varchar(3) DEFAULT NULL COMMENT '活动星级',\n  `sponsor` varchar(100) DEFAULT NULL COMMENT '主办单位名称',\n  `sponsor_level` varchar(30) NOT NULL COMMENT '主办单位级别',\n  `activity_start_time` datetime NOT NULL COMMENT '举办时间起',\n  `activity_end_time` datetime NOT NULL COMMENT '举办时间止',\n  `is_reword` varchar(3) NOT NULL COMMENT '是否获奖(1是/0否)',\n  `reword_level` varchar(30) NOT NULL COMMENT '表彰奖励类别',\n  `reword_desc` varchar(300) NOT NULL COMMENT '获奖情况',\n  `perform_desc` varchar(300) DEFAULT NULL COMMENT '表现评价',\n  `perform_org` varchar(100) NOT NULL COMMENT '评价单位',\n  `bz` varchar(300) DEFAULT NULL COMMENT '备注',\n  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `create_user` varchar(20) NOT NULL COMMENT '创建人',\n  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',\n  `update_user` varchar(20) NOT NULL COMMENT '更新人',\n  PRIMARY KEY (`id`),\n  KEY `idx_emp_no` (`emp_no`),\n  KEY `idx_activity_type` (`activity_type`),\n  KEY `idx_activity_name` (`activity_name`),\n  KEY `idx_activity_time` (`activity_start_time`,`activity_end_time`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='员工参与活动记录表'\n\nCREATE TABLE `t_hx_parttime_job` (\n  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '自增主键',\n  `emp_no` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '员工档案号',\n  `emp_name` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '员工姓名',\n  `parttime_job` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '兼职岗位',\n  `parttime_address` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '兼职单位',\n  `parttime_time` datetime DEFAULT NULL COMMENT '兼职时间',\n  `bz` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '备注',\n  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `create_user` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '创建人',\n  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',\n  `update_user` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '更新人',\n  PRIMARY KEY (`id`),\n  KEY `idx_emp_no` (`emp_no`),\n  KEY `idx_parttime_job` (`parttime_job`),\n  KEY `idx_parttime_address` (`parttime_address`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='员工岗位兼职记录表'\n\nCREATE TABLE `t_hx_test_evaluate` (\n  `id` bigint NOT NULL AUTO_INCREMENT COMMENT '自增主键',\n  `evaluate_type` varchar(5) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考察类型',\n  `emp_no` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '被考察人档案号',\n  `emp_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '被考察人姓名',\n  `evaluate_time` datetime DEFAULT NULL COMMENT '考察时间',\n  `evaluate_suggest` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考评建议',\n  `evaluate_result` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考评结果',\n  `super_evaluate` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '上级评价',\n  `lever_evaluate` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '平级评价',\n  `emp_evaluate` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '员工评价',\n  `evaluate_emp_no` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考察人员档案号',\n  `evaluate_emp_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '考察人员姓名',\n  `other_msg` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '其他信息',\n  `remark` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '备注',\n  `create_user` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '创建人',\n  `update_user` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '更新人',\n  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',\n  PRIMARY KEY (`id`),\n  KEY `idx_emp_no` (`emp_no`),\n  KEY `idx_evaluate_time` (`evaluate_time`),\n  KEY `idx_evaluate_emp` (`evaluate_emp_no`),\n  KEY `idx_evaluate_type` (`evaluate_type`)\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='员工考察考评表'", "question": "查询2023年参加过国家级活动并获得奖项，且绩效考核等级为A的员工名单", "query": "SELECT DISTINCT k.EMP_NO, k.EMP_NAME FROM `T_HX_EMP_KPI` k JOIN `t_hx_join_activity` a ON k.EMP_NO = a.emp_no COLLATE utf8mb4_unicode_ci WHERE k.KPI_YEAR = 2023 AND k.KPI_GRADE = 'A' AND a.sponsor_level LIKE '%国家级%' AND a.is_reword = '1';", "tables": ["T_HX_EMP_KPI", "t_hx_join_activity"], "reference_question": "请列出2023年绩效考核等级为A的北京总部员工", "answer": null, "sql_exec_res": [{"EMP_NO": "EMP001", "EMP_NAME": "张伟"}, {"EMP_NO": "EMP009", "EMP_NAME": "吴婷"}], "query_skeleton": null, "answer_skeleton": null, "row_id": 8}
